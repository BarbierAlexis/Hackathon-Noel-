{"remainingRequest":"/home/barbier/Projets/Hackathon Noel/Hackathon-Noel-/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/barbier/Projets/Hackathon Noel/Hackathon-Noel-/src/components/Form.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/barbier/Projets/Hackathon Noel/Hackathon-Noel-/src/components/Form.vue","mtime":1576831884631},{"path":"/home/barbier/Projets/Hackathon Noel/Hackathon-Noel-/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/barbier/Projets/Hackathon Noel/Hackathon-Noel-/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/barbier/Projets/Hackathon Noel/Hackathon-Noel-/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/barbier/Projets/Hackathon Noel/Hackathon-Noel-/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgQ2FtZXJhIGZyb20gJy4vQ2FtZXJhJwppbXBvcnQgR2FsbGVyeSBmcm9tICcuL0dhbGxlcnknCgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogIENhbWVyYSwKICBHYWxsZXJ5CiAgfSwKICAvLyBtb3VudGVkKCkgewogIC8vICAgY29uc29sZS5sb2coJ0NvbXBvbmVudCBNb3VudGVkJykKICAvLyB9CgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtOiB7CiAgICAgICAgaW1hZ2U6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIGRlY2hldDogbnVsbCwKICAgICAgICBjaGVja2VkOiBbXSwKICAgICAgICBsYXRpdHVkZTogbnVsbCwKICAgICAgICBsb25naXR1ZGU6IG51bGwKICAgICAgfSwKICAgICAgZGVjaGV0czogW3sgdGV4dDogJ1NlbGVjdGlvbm5lcicsIHZhbHVlOiBudWxsIH0sICdFbmNvbWJyYW50cycsICdEw6lqZWN0aW9ucyBhbmltYWxlcycsICdBdXRyZXMnXSwKICAgICAgc2hvdzogdHJ1ZQogICAgfQogIH0sCgogIG1ldGhvZHM6IHsKICAKICAgIEdlbzogZnVuY3Rpb24gKCl7CiAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbigoc3VjY2VzcywgZXJyb3IsIG9wdGlvbnMpID0+ewogICAgcmV0dXJuICh0aGlzLmZvcm0ubGF0aXR1ZGUgPSBzdWNjZXNzLmNvb3Jkcy5sYXRpdHVkZSwKICAgIHRoaXMuZm9ybS5sb25naXR1ZGUgPSBzdWNjZXNzLmNvb3Jkcy5sb25naXR1ZGUpCiAgfSkKICB9LAogIFJldHVybjogZnVuY3Rpb24gKCl7CiAgICByZXR1cm4gKHRoaXMuZm9ybS5sYXRpdHVkZSA9IG51bGwsCiAgICB0aGlzLmZvcm0ubG9uZ2l0dWRlID0gbnVsbCkKICB9LAoKICAgIHRha2VQaWN0dXJlICgpIHsKICAgICAgbGV0IHJhdGlvID0gKHdpbmRvdy5pbm5lckhlaWdodCA+IHdpbmRvdy5pbm5lcldpZHRoKSA/IDE2IC8gOSA6IDkgLzE2OwogICAgICBjb25zdCBwaWN0dXJlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiY2FudmFzIik7CiAgICAgIGNvbnN0IGN0eCA9IHBpY3R1cmUuZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IHRydWU7CiAgICAgIGN0eC5pbWFnZVNtb290aGluZ1F1YWxpdHkgPSAiaGlnaCI7CiAgICAgIGN0eC5kcmF3SW1hZ2UoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigidmlkZW8iKSwwLDAsIHBpY3R1cmUud2lkdGgsIHBpY3R1cmUuaGVpZ2h0KQogICAgICB0aGlzLmZvcm0uaW1hZ2UgPSBwaWN0dXJlCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZm9ybS5pbWFnZSkKICAgIH0sCgogICAgb25TdWJtaXQoZXZ0KSB7CiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBhbGVydChKU09OLnN0cmluZ2lmeSh0aGlzLmZvcm0pKTsKICAgICAgYXhpb3MucG9zdCgnaHR0cDovL2xvY2FsaG9zdDo4MDAwL3R3ZWV0LycsIHsKICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5mb3JtLmRlc2NyaXB0aW9uLAogICAgICAgIGRlY2hldDogdGhpcy5mb3JtLmRlY2hldAogICAgICB9KS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICAgIH0pCiAgICBjb25zb2xlLmxvZyh0aGlzLmZvcm0uZGVzY3JpcHRpb24pCiAgfSwKICAgIG9uUmVzZXQoZXZ0KSB7CiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpCiAgICAgIC8vIFJlc2V0IG91ciBmb3JtIHZhbHVlcwogICAgICB0aGlzLmZvcm0uZGVzY3JpcHRpb24gPSAnJwogICAgICB0aGlzLmZvcm0uZGVjaGV0ID0gbnVsbAoKICAgICAgLy8gVHJpY2sgdG8gcmVzZXQvY2xlYXIgbmF0aXZlIGJyb3dzZXIgZm9ybSB2YWxpZGF0aW9uIHN0YXRlCiAgICAgIHRoaXMuc2hvdyA9IGZhbHNlCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLnNob3cgPSB0cnVlCiAgICAgIH0pCiAgICB9CiAgfQp9ICAK"},{"version":3,"sources":["Form.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Form.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container\">\n    <h2>FORMULAIRE</h2>\n    <center><b-form-group class=\"input\" id=\"input-group-2\" label=\"Description:\" label-for=\"input-2\" max-length=\"200\">\n      <b-form-input\n        id=\"input-2\"\n        v-model=\"form.description\"\n        required\n        placeholder=\"Description\"\n      ></b-form-input>\n    </b-form-group></center>\n    <center><b-form-group class=\"input\" id=\"input-group-3\" label=\"Déchets:\" label-for=\"input-3\" width=50%>\n      <b-form-select\n        id=\"input-3\"\n        v-model=\"form.dechet\"\n        :options=\"dechets\"\n        required\n      ></b-form-select>\n    </b-form-group></center>\n    <b-button type=\"submit\" variant=\"primary\" @click=\"Geo\" >Submit</b-button>\n    <Camera v-on:takePicture=\"this.takePicture\" />\n    <Gallery />\n  </div>\n</template>\n<script>\n\n  import Camera from './Camera'\n  import Gallery from './Gallery'\n\n  export default {\n    components: {\n    Camera,\n    Gallery\n    },\n    // mounted() {\n    //   console.log('Component Mounted')\n    // }\n\n    data() {\n      return {\n        form: {\n          image: null,\n          description: '',\n          dechet: null,\n          checked: [],\n          latitude: null,\n          longitude: null\n        },\n        dechets: [{ text: 'Selectionner', value: null }, 'Encombrants', 'Déjections animales', 'Autres'],\n        show: true\n      }\n    },\n\n    methods: {\n    \n      Geo: function (){\n    navigator.geolocation.getCurrentPosition((success, error, options) =>{\n      return (this.form.latitude = success.coords.latitude,\n      this.form.longitude = success.coords.longitude)\n    })\n    },\n    Return: function (){\n      return (this.form.latitude = null,\n      this.form.longitude = null)\n    },\n\n      takePicture () {\n        let ratio = (window.innerHeight > window.innerWidth) ? 16 / 9 : 9 /16;\n        const picture = document.querySelector(\"canvas\");\n        const ctx = picture.getContext(\"2d\");\n        ctx.imageSmoothingEnabled = true;\n        ctx.imageSmoothingQuality = \"high\";\n        ctx.drawImage(document.querySelector(\"video\"),0,0, picture.width, picture.height)\n        this.form.image = picture\n        console.log(this.form.image)\n      },\n\n      onSubmit(evt) {\n        evt.preventDefault();\n        alert(JSON.stringify(this.form));\n        axios.post('http://localhost:8000/tweet/', {\n          description: this.form.description,\n          dechet: this.form.dechet\n        }).then((response) => {\n          console.log(response);\n        }).catch(err => {\n          console.error(err);\n        })\n      console.log(this.form.description)\n    },\n      onReset(evt) {\n        evt.preventDefault()\n        // Reset our form values\n        this.form.description = ''\n        this.form.dechet = null\n\n        // Trick to reset/clear native browser form validation state\n        this.show = false\n        this.$nextTick(() => {\n          this.show = true\n        })\n      }\n    }\n  }  \n</script>\n\n<style>\n.form-group {\n  width: 50%;\n}\n</style>"]}]}