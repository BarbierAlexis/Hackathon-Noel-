{"remainingRequest":"/home/barbier/Projets/Hackathon Noel/Hackathon-Noel-/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/barbier/Projets/Hackathon Noel/Hackathon-Noel-/src/components/Form.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/barbier/Projets/Hackathon Noel/Hackathon-Noel-/src/components/Form.vue","mtime":1576851758696},{"path":"/home/barbier/Projets/Hackathon Noel/Hackathon-Noel-/node_modules/cache-loader/dist/cjs.js","mtime":1576851757868},{"path":"/home/barbier/Projets/Hackathon Noel/Hackathon-Noel-/node_modules/babel-loader/lib/index.js","mtime":1576851757716},{"path":"/home/barbier/Projets/Hackathon Noel/Hackathon-Noel-/node_modules/cache-loader/dist/cjs.js","mtime":1576851757868},{"path":"/home/barbier/Projets/Hackathon Noel/Hackathon-Noel-/node_modules/vue-loader/lib/index.js","mtime":1576851758604}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgQ2FtZXJhIGZyb20gJy4vQ2FtZXJhJwppbXBvcnQgR2FsbGVyeSBmcm9tICcuL0dhbGxlcnknCgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogIENhbWVyYSwKICBHYWxsZXJ5CiAgfSwKICAvLyBtb3VudGVkKCkgewogIC8vICAgY29uc29sZS5sb2coJ0NvbXBvbmVudCBNb3VudGVkJykKICAvLyB9CgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtOiB7CiAgICAgICAgaW1hZ2U6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIGRlY2hldDogbnVsbCwKICAgICAgICBjaGVja2VkOiBbXSwKICAgICAgICBsYXRpdHVkZTogbnVsbCwKICAgICAgICBsb25naXR1ZGU6IG51bGwsCiAgICAgICAgdGVtcGVyYXR1cmU6IG51bGwKICAgICAgfSwKICAgICAgZGVjaGV0czogW3sgdGV4dDogJ1NlbGVjdGlvbm5lcicsIHZhbHVlOiBudWxsIH0sICdFbmNvbWJyYW50cycsICdEw6lqZWN0aW9ucyBhbmltYWxlcycsICdBdXRyZXMnXSwKICAgICAgc2hvdzogdHJ1ZQogICAgfQogIH0sCgogIG1ldGhvZHM6IHsKCiAgICBNZXRlbzpmdW5jdGlvbiAoKXsKICAgIGF4aW9zKCdodHRwOi8vbG9jYWxob3N0OjgwOTAvd2VhdGhlcicpCiAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgcmV0dXJuIHRoaXMuZm9ybS50ZW1wZXJhdHVyZSA9cmVzcG9uc2UuZGF0YS5vYnNlcnZhdGlvbnMubG9jYXRpb25bMF0ub2JzZXJ2YXRpb25bMF0udGVtcGVyYXR1cmU7CiAgICB9KQogIH0sCiAgCiAgICBHZW86IGZ1bmN0aW9uICgpewogIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oKHN1Y2Nlc3MsIGVycm9yLCBvcHRpb25zKSA9PnsKICAgIHJldHVybiAodGhpcy5mb3JtLmxhdGl0dWRlID0gc3VjY2Vzcy5jb29yZHMubGF0aXR1ZGUsCiAgICB0aGlzLmZvcm0ubG9uZ2l0dWRlID0gc3VjY2Vzcy5jb29yZHMubG9uZ2l0dWRlKQogIH0pCiAgfSwKICBSZXR1cm46IGZ1bmN0aW9uICgpewogICAgcmV0dXJuICh0aGlzLmZvcm0ubGF0aXR1ZGUgPSBudWxsLAogICAgdGhpcy5mb3JtLmxvbmdpdHVkZSA9IG51bGwpCiAgfSwKCiAgICB0YWtlUGljdHVyZSAoKSB7CiAgICAgIGxldCByYXRpbyA9ICh3aW5kb3cuaW5uZXJIZWlnaHQgPiB3aW5kb3cuaW5uZXJXaWR0aCkgPyAxNiAvIDkgOiA5IC8xNjsKICAgICAgY29uc3QgcGljdHVyZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImNhbnZhcyIpOwogICAgICBjb25zdCBjdHggPSBwaWN0dXJlLmdldENvbnRleHQoIjJkIik7CiAgICAgIGN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSB0cnVlOwogICAgICBjdHguaW1hZ2VTbW9vdGhpbmdRdWFsaXR5ID0gImhpZ2giOwogICAgICBjdHguZHJhd0ltYWdlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoInZpZGVvIiksMCwwLCBwaWN0dXJlLndpZHRoLCBwaWN0dXJlLmhlaWdodCkKICAgICAgdGhpcy5mb3JtLmltYWdlID0gcGljdHVyZQogICAgICBjb25zb2xlLmxvZyh0aGlzLmZvcm0uaW1hZ2UpCiAgICB9LAoKICAgIGFzeW5jIG9uU3VibWl0KGV2dCkgewogICAgICBldnQucHJldmVudERlZmF1bHQoKTsKICAgICAgYXdhaXQgdGhpcy5HZW8oKTsKICAgICAgYXhpb3MucG9zdCgnaHR0cDovL2xvY2FsaG9zdDo4MDkwL3R3ZWV0LycsIHsKICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5mb3JtLmRlc2NyaXB0aW9uLAogICAgICAgIGRlY2hldDogdGhpcy5mb3JtLmRlY2hldCwKICAgICAgICBsYXRpdHVkZTogdGhpcy5mb3JtLmxhdGl0dWRlLAogICAgICAgIGxvbmdpdHVkZTogdGhpcy5mb3JtLmxvbmdpdHVkZQogICAgICB9KS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICAgIH0pCiAgICBjb25zb2xlLmxvZyh0aGlzLmZvcm0uZGVzY3JpcHRpb24pCiAgfSwKICAgIG9uUmVzZXQoZXZ0KSB7CiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpCiAgICAgIC8vIFJlc2V0IG91ciBmb3JtIHZhbHVlcwogICAgICB0aGlzLmZvcm0uZGVzY3JpcHRpb24gPSAnJwogICAgICB0aGlzLmZvcm0uZGVjaGV0ID0gbnVsbAoKICAgICAgLy8gVHJpY2sgdG8gcmVzZXQvY2xlYXIgbmF0aXZlIGJyb3dzZXIgZm9ybSB2YWxpZGF0aW9uIHN0YXRlCiAgICAgIHRoaXMuc2hvdyA9IGZhbHNlCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLnNob3cgPSB0cnVlCiAgICAgIH0pCiAgICB9CiAgfQp9ICAK"},{"version":3,"sources":["Form.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Form.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container\">\n    <hr>\n    <center><b-form-group class=\"input\" id=\"input-group-2\" label=\"Description:\" label-for=\"input-2\" max-length=\"200\">\n      <b-form-input\n        id=\"input-2\"\n        v-model=\"form.description\"\n        required\n        placeholder=\"Description\"\n      ></b-form-input>\n    </b-form-group></center>\n    <center><b-form-group class=\"input\" id=\"input-group-3\" label=\"Déchets:\" label-for=\"input-3\" width=50%>\n      <b-form-select\n        id=\"input-3\"\n        v-model=\"form.dechet\"\n        :options=\"dechets\"\n        required\n      ></b-form-select>\n    </b-form-group></center>\n    <b-button type=\"submit\" variant=\"primary\" @click=\"onSubmit\" >Envoyer</b-button>\n    <Camera v-on:takePicture=\"this.takePicture\" />\n    <Gallery />\n    <hr>\n    <p v-if=\"this.form.temperature\"><b>Il fait {{this.form.temperature}}°C à Nantes</b></p>\n    <p v-else></p>\n    <b-button variant=\"primary\" @click=\"Meteo\" >Temperature</b-button>\n    <hr>\n  </div>\n</template>\n<script>\n\n  import Camera from './Camera'\n  import Gallery from './Gallery'\n\n  export default {\n    components: {\n    Camera,\n    Gallery\n    },\n    // mounted() {\n    //   console.log('Component Mounted')\n    // }\n\n    data() {\n      return {\n        form: {\n          image: null,\n          description: '',\n          dechet: null,\n          checked: [],\n          latitude: null,\n          longitude: null,\n          temperature: null\n        },\n        dechets: [{ text: 'Selectionner', value: null }, 'Encombrants', 'Déjections animales', 'Autres'],\n        show: true\n      }\n    },\n\n    methods: {\n\n      Meteo:function (){\n      axios('http://localhost:8090/weather')\n      .then((response) => {\n        return this.form.temperature =response.data.observations.location[0].observation[0].temperature;\n      })\n    },\n    \n      Geo: function (){\n    navigator.geolocation.getCurrentPosition((success, error, options) =>{\n      return (this.form.latitude = success.coords.latitude,\n      this.form.longitude = success.coords.longitude)\n    })\n    },\n    Return: function (){\n      return (this.form.latitude = null,\n      this.form.longitude = null)\n    },\n\n      takePicture () {\n        let ratio = (window.innerHeight > window.innerWidth) ? 16 / 9 : 9 /16;\n        const picture = document.querySelector(\"canvas\");\n        const ctx = picture.getContext(\"2d\");\n        ctx.imageSmoothingEnabled = true;\n        ctx.imageSmoothingQuality = \"high\";\n        ctx.drawImage(document.querySelector(\"video\"),0,0, picture.width, picture.height)\n        this.form.image = picture\n        console.log(this.form.image)\n      },\n\n      async onSubmit(evt) {\n        evt.preventDefault();\n        await this.Geo();\n        axios.post('http://localhost:8090/tweet/', {\n          description: this.form.description,\n          dechet: this.form.dechet,\n          latitude: this.form.latitude,\n          longitude: this.form.longitude\n        }).then((response) => {\n          console.log(response);\n        }).catch(err => {\n          console.error(err);\n        })\n      console.log(this.form.description)\n    },\n      onReset(evt) {\n        evt.preventDefault()\n        // Reset our form values\n        this.form.description = ''\n        this.form.dechet = null\n\n        // Trick to reset/clear native browser form validation state\n        this.show = false\n        this.$nextTick(() => {\n          this.show = true\n        })\n      }\n    }\n  }  \n</script>\n\n<style>\nhr {\n  background-color: #ffc201;\n}\n.container {\n  margin-top: 50px;\n}\n.form-group {\n  width: 50%;\n}\n</style>"]}]}